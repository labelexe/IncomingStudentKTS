{"version":3,"sources":["js/services/VK.js","js/services/_functions.js","js/store/router/reducers.js","js/store/vk/reducers.js","js/store/formData/reducers.js","js/store/reducers.js","js/store/vk/actionTypes.js","js/store/router/actionTypes.js","js/store/formData/actionTypes.js","js/store/router/actions.js","js/components/SearchStudents.js","js/components/ListStudents.js","js/panels/more/base.js","js/store/vk/actions.js","js/panels/more/example.js","js/store/formData/actions.js","js/components/modals/HomeBotsListModal.js","js/components/modals/HomeBotInfoModal.js","App.js","index.js"],"names":["closeApp","VKConnect","send","then","data","catch","error","swipeBackOn","swipeBackOff","smoothScrollToTop","c","document","documentElement","scrollTop","body","window","requestAnimationFrame","scrollTo","getActivePanel","view","panel","store","getState","router","activePanel","panelsHistory","length","initialState","activeStory","activeView","storiesHistory","viewsHistory","activeModals","modalHistory","popouts","scrollPosition","accessToken","undefined","colorScheme","activeTab","componentScroll","forms","combineReducers","vkui","state","action","type","payload","component","tab","x","y","element","getElementById","getElementsByClassName","scrollLeft","View","Panel","history","pushState","viewIndexInHistory","indexOf","splice","VK","pageYOffset","story","initial_panel","firstPanel","shift","firstView","storiesIndexInHistory","setView","setPanel","setStory","popoutsData","viewModalsHistory","activeModal","push","pop","panelsHistoryNew","popout","id","modalsHistory","formData","form","goBack","closeModal","Search","React","Component","ListStudents","props","isLoaded","students","students_selected","this","getAllStudents","selected","getStudentsGroup","console","debug","fetch","method","mode","cache","credentials","headers","res","json","result","setState","log","_selected","requestOptions","response","className","map","item","index","key","style","styles","student_item","display","flex","paddingRight","fullname","group_id","flexFlow","justifyContent","padding","HomePanelProfile","student_groups","setScrollPositionByID","setActiveTab","scrolls","Object","keys","forEach","componentData","restoreScrollPosition","getStundentsGroup","Accept","Connection","setPage","vertical","marginTop","activeTab1","uuid","onClick","name","header","mapDispatchToProps","connect","defaultInputData","workplace","workposition","checkboxPhoto","checkboxOnline","inputData","handleInput","e","value","currentTarget","checked","clearForm","setFormData","left","top","onChange","placeholder","autoComplete","size","stretched","formName","bots","avatar","desc","HomeBotsListModal","onClose","openModal","platform","IOS","right","settlingHeight","bot","description","before","src","asideContent","fill","withPlatform","App","lastAndroidBackAction","dispatch","subscribe","VKConnectCallback","detail","unsubscribe","scheme","onpopstate","timeNow","Date","prevProps","prevState","snapshot","pageScrollPosition","scroll","isWebView","onSwipeBack","search","bindActionCreators","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.6e738174.chunk.js","sourcesContent":["import VKConnect from \"@vkontakte/vk-connect\";\r\n\r\nimport {store} from \"../../index\";\r\n\r\nimport {setColorScheme, setAccessToken} from \"../store/vk/actions\";\r\n\r\nconst APP_ID = 6984089;\r\nconst API_VERSION = '5.92';\r\n\r\nexport const initApp = () => (dispatch) => {\r\n    const VKConnectCallback = (e) => {\r\n        if (e.detail.type === 'VKWebAppUpdateConfig') {\r\n            VKConnect.unsubscribe(VKConnectCallback);\r\n\r\n            dispatch(setColorScheme(e.detail.data.scheme));\r\n        }\r\n    };\r\n\r\n    VKConnect.subscribe(VKConnectCallback);\r\n    return VKConnect.send('VKWebAppInit', {}).then(data => {\r\n        return data;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};\r\n\r\nexport const getAuthToken = (scope) => (dispatch) => {\r\n    VKConnect.send(\"VKWebAppGetAuthToken\", {\r\n        \"app_id\": APP_ID,\r\n        \"scope\": scope.join(',')\r\n    }).then(data => {\r\n        dispatch(setAccessToken(data.access_token));\r\n    }).catch(() => {\r\n        dispatch(setAccessToken(null));\r\n    });\r\n};\r\n\r\nexport const closeApp = () => {\r\n    return VKConnect.send(\"VKWebAppClose\", {\r\n        \"status\": \"success\"\r\n    }).then(data => {\r\n        return data;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};\r\n\r\nexport const swipeBackOn = () => {\r\n    return VKConnect.send(\"VKWebAppEnableSwipeBack\", {}).then(data => {\r\n        return data;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};\r\n\r\nexport const swipeBackOff = () => {\r\n    return VKConnect.send(\"VKWebAppDisableSwipeBack\", {}).then(data => {\r\n        return data;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};\r\n\r\nexport const groupsGet = () => {\r\n    return APICall('groups.get', {\r\n        \"extended\": \"1\",\r\n        \"fields\": \"description\",\r\n        \"count\": \"100\"\r\n    });\r\n};\r\n\r\nexport const APICall = (method, params) => {\r\n    params['access_token'] = store.getState().vkui.accessToken;\r\n    params['v'] = params['v'] === undefined ? API_VERSION : params['v'];\r\n\r\n    return VKConnect.send(\"VKWebAppCallAPIMethod\", {\r\n        \"method\": method,\r\n        \"params\": params\r\n    }).then(data => {\r\n        return data.response;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};\r\n","import {\r\n    store\r\n} from \"../../index\";\r\n\r\nexport const smoothScrollToTop = () => {\r\n    const c = document.documentElement.scrollTop || document.body.scrollTop;\r\n\r\n    if (c > 30) {\r\n        return;\r\n    }\r\n\r\n    if (c > 0) {\r\n        window.requestAnimationFrame(smoothScrollToTop);\r\n        window.scrollTo(0, c - c / 8);\r\n    }\r\n};\r\n\r\nexport const restoreScrollPosition = () => {\r\n    let scrolls = store.getState().vkui.componentScroll;\r\n\r\n    Object.keys(scrolls).forEach((component) => {\r\n        let componentData = scrolls[component];\r\n\r\n        let element = document.getElementById(component);\r\n\r\n        if (element) {\r\n            element = element.getElementsByClassName(\"HorizontalScroll__in\")[0];\r\n\r\n            element.scrollLeft = componentData.x;\r\n            element.scrollTop = componentData.y;\r\n        }\r\n    });\r\n};\r\n\r\nexport const getActivePanel = (view) => {\r\n    let panel = store.getState().router.activePanel;\r\n\r\n    let panelsHistory = store.getState().router.panelsHistory;\r\n    if (typeof panelsHistory[view] !== \"undefined\") {\r\n        panel = panelsHistory[view][panelsHistory[view].length - 1];\r\n    }\r\n\r\n    return panel;\r\n};","import {\r\n    SET_PAGE,\r\n    GO_BACK,\r\n    OPEN_POPOUT,\r\n    CLOSE_POPOUT,\r\n    OPEN_MODAL,\r\n    CLOSE_MODAL,\r\n    SET_STORY\r\n} from './actionTypes';\r\n\r\nimport * as VK from \"../../services/VK\";\r\nimport {smoothScrollToTop} from \"../../services/_functions\";\r\n\r\nconst initialState = {\r\n    activeStory: null,\r\n    activeView: null,\r\n    activePanel: null,\r\n\r\n    storiesHistory: [],\r\n    viewsHistory: [],\r\n    panelsHistory: [],\r\n\r\n    activeModals: [],\r\n    modalHistory: [],\r\n    popouts: [],\r\n\r\n    scrollPosition: []\r\n};\r\n\r\nexport const routerReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_PAGE: {\r\n            let View = action.payload.view;\r\n            let Panel = action.payload.panel;\r\n\r\n            window.history.pushState(null, null);\r\n\r\n            let panelsHistory = state.panelsHistory[View] || [];\r\n            let viewsHistory = state.viewsHistory[state.activeStory] || [];\r\n\r\n            const viewIndexInHistory = viewsHistory.indexOf(View);\r\n\r\n            if (viewIndexInHistory !== -1) {\r\n                viewsHistory.splice(viewIndexInHistory, 1);\r\n            }\r\n\r\n            if (panelsHistory.indexOf(Panel) === -1) {\r\n                panelsHistory = [...panelsHistory, Panel];\r\n            }\r\n\r\n            if (panelsHistory.length > 1) {\r\n                VK.swipeBackOn();\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeView: View,\r\n                activePanel: Panel,\r\n\r\n                panelsHistory: {\r\n                    ...state.panelsHistory,\r\n                    [View]: panelsHistory,\r\n                },\r\n                viewsHistory: {\r\n                    ...state.viewsHistory,\r\n                    [state.activeStory]: [...viewsHistory, View]\r\n                },\r\n                scrollPosition: {\r\n                    ...state.scrollPosition,\r\n                    [state.activeStory + \"_\" + state.activeView + \"_\" + state.activePanel]: window.pageYOffset\r\n                }\r\n            };\r\n        }\r\n\r\n        case SET_STORY: {\r\n            window.history.pushState(null, null);\r\n\r\n            let viewsHistory = state.viewsHistory[action.payload.story] || [action.payload.story];\r\n\r\n            let storiesHistory = state.storiesHistory;\r\n            let activeView = viewsHistory[viewsHistory.length - 1];\r\n            let panelsHistory = state.panelsHistory[activeView] || [action.payload.initial_panel];\r\n            let activePanel = panelsHistory[panelsHistory.length - 1];\r\n\r\n            if (action.payload.story === state.activeStory) {\r\n                if (panelsHistory.length > 1) {\r\n                    let firstPanel = panelsHistory.shift();\r\n                    panelsHistory = [firstPanel];\r\n\r\n                    activePanel = panelsHistory[panelsHistory.length - 1];\r\n                } else if (viewsHistory.length > 1) {\r\n                    let firstView = viewsHistory.shift();\r\n                    viewsHistory = [firstView];\r\n\r\n                    activeView = viewsHistory[viewsHistory.length - 1];\r\n                    panelsHistory = state.panelsHistory[activeView];\r\n                    activePanel = panelsHistory[panelsHistory.length - 1];\r\n                }\r\n            }\r\n\r\n            if (action.payload.story === state.activeStory && panelsHistory.length === 1 && window.pageYOffset > 0) {\r\n                window.scrollTo(0, 30);\r\n\r\n                smoothScrollToTop();\r\n            }\r\n\r\n            const storiesIndexInHistory = storiesHistory.indexOf(action.payload.story);\r\n\r\n            if (storiesIndexInHistory === -1 || (storiesHistory[0] === action.payload.story && storiesHistory[storiesHistory.length - 1] !== action.payload.story)) {\r\n                storiesHistory = [...storiesHistory, action.payload.story];\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeStory: action.payload.story,\r\n                activeView: activeView,\r\n                activePanel: activePanel,\r\n\r\n                storiesHistory: storiesHistory,\r\n                viewsHistory: {\r\n                    ...state.viewsHistory,\r\n                    [activeView]: viewsHistory\r\n                },\r\n                panelsHistory: {\r\n                    ...state.panelsHistory,\r\n                    [activeView]: panelsHistory\r\n                },\r\n\r\n                scrollPosition: {\r\n                    ...state.scrollPosition,\r\n                    [state.activeStory + \"_\" + state.activeView + \"_\" + state.activePanel]: window.pageYOffset\r\n                }\r\n            };\r\n        }\r\n\r\n        case GO_BACK: {\r\n            let setView = state.activeView;\r\n            let setPanel = state.activePanel;\r\n            let setStory = state.activeStory;\r\n\r\n            let popoutsData = state.popouts;\r\n\r\n            if (popoutsData[setView]) {\r\n                popoutsData[setView] = null;\r\n\r\n                return {\r\n                    ...state,\r\n                    popouts: {\r\n                        ...state.popouts, popoutsData\r\n                    }\r\n                };\r\n            }\r\n\r\n            let viewModalsHistory = state.modalHistory[setView];\r\n\r\n            if (viewModalsHistory !== undefined && viewModalsHistory.length !== 0) {\r\n                let activeModal = viewModalsHistory[viewModalsHistory.length - 2] || null;\r\n\r\n                if (activeModal === null) {\r\n                    viewModalsHistory = [];\r\n                } else if (viewModalsHistory.indexOf(activeModal) !== -1) {\r\n                    viewModalsHistory = viewModalsHistory.splice(0, viewModalsHistory.indexOf(activeModal) + 1);\r\n                } else {\r\n                    viewModalsHistory.push(activeModal);\r\n                }\r\n\r\n                return {\r\n                    ...state,\r\n                    activeModals: {\r\n                        ...state.activeModals,\r\n                        [setView]: activeModal\r\n                    },\r\n                    modalHistory: {\r\n                        ...state.modalHistory,\r\n                        [setView]: viewModalsHistory\r\n                    }\r\n                };\r\n            }\r\n\r\n            let panelsHistory = state.panelsHistory[setView] || [];\r\n            let viewsHistory = state.viewsHistory[state.activeStory] || [];\r\n            let storiesHistory = state.storiesHistory;\r\n\r\n            if (panelsHistory.length > 1) {\r\n                panelsHistory.pop();\r\n\r\n                setPanel = panelsHistory[panelsHistory.length - 1];\r\n            } else if (viewsHistory.length > 1) {\r\n                viewsHistory.pop();\r\n\r\n                setView = viewsHistory[viewsHistory.length - 1];\r\n                let panelsHistoryNew = state.panelsHistory[setView];\r\n\r\n                setPanel = panelsHistoryNew[panelsHistoryNew.length - 1];\r\n            } else if (storiesHistory.length > 1) {\r\n                storiesHistory.pop();\r\n\r\n                setStory = storiesHistory[storiesHistory.length - 1];\r\n                setView = state.viewsHistory[setStory][state.viewsHistory[setStory].length - 1];\r\n\r\n                let panelsHistoryNew = state.panelsHistory[setView];\r\n\r\n                if (panelsHistoryNew.length > 1) {\r\n                    setPanel = panelsHistoryNew[panelsHistoryNew.length - 1];\r\n                } else {\r\n                    setPanel = panelsHistoryNew[0];\r\n                }\r\n            } else {\r\n                VK.closeApp();\r\n            }\r\n\r\n            if (panelsHistory.length === 1) {\r\n                VK.swipeBackOff();\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeView: setView,\r\n                activePanel: setPanel,\r\n                activeStory: setStory,\r\n\r\n                viewsHistory: {\r\n                    ...state.viewsHistory,\r\n                    [state.activeView]: viewsHistory\r\n                },\r\n                panelsHistory: {\r\n                    ...state.panelsHistory,\r\n                    [state.activeView]: panelsHistory\r\n                }\r\n            };\r\n        }\r\n\r\n        case OPEN_POPOUT: {\r\n            window.history.pushState(null, null);\r\n\r\n            return {\r\n                ...state,\r\n                popouts: {\r\n                    ...state.popouts,\r\n                    [state.activeView]: action.payload.popout\r\n                }\r\n            };\r\n        }\r\n\r\n        case CLOSE_POPOUT: {\r\n            return {\r\n                ...state,\r\n                popouts: {\r\n                    ...state.popouts,\r\n                    [state.activeView]: null\r\n                }\r\n            };\r\n        }\r\n\r\n        case OPEN_MODAL: {\r\n            window.history.pushState(null, null);\r\n\r\n            let activeModal = action.payload.id || null;\r\n            let modalsHistory = state.modalHistory[state.activeView] ? [...state.modalHistory[state.activeView]] : [];\r\n\r\n            if (activeModal === null) {\r\n                modalsHistory = [];\r\n            } else if (modalsHistory.indexOf(activeModal) !== -1) {\r\n                modalsHistory = modalsHistory.splice(0, modalsHistory.indexOf(activeModal) + 1);\r\n            } else {\r\n                modalsHistory.push(activeModal);\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeModals: {\r\n                    ...state.activeModals,\r\n                    [state.activeView]: activeModal\r\n                },\r\n                modalHistory: {\r\n                    ...state.modalHistory,\r\n                    [state.activeView]: modalsHistory\r\n                }\r\n            };\r\n        }\r\n\r\n        case CLOSE_MODAL: {\r\n            let activeModal = state.modalHistory[state.activeView][state.modalHistory[state.activeView].length - 2] || null;\r\n            let modalsHistory = state.modalHistory[state.activeView] ? [...state.modalHistory[state.activeView]] : [];\r\n\r\n            if (activeModal === null) {\r\n                modalsHistory = [];\r\n            } else if (modalsHistory.indexOf(activeModal) !== -1) {\r\n                modalsHistory = modalsHistory.splice(0, modalsHistory.indexOf(activeModal) + 1);\r\n            } else {\r\n                modalsHistory.push(activeModal);\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeModals: {\r\n                    ...state.activeModals,\r\n                    [state.activeView]: activeModal\r\n                },\r\n                modalHistory: {\r\n                    ...state.modalHistory,\r\n                    [state.activeView]: modalsHistory\r\n                }\r\n            };\r\n        }\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n","import {\r\n    SET_ACCESS_TOKEN,\r\n    SET_ACTIVE_TAB,\r\n    SET_COLOR_SCHEME,\r\n    SET_SCROLL_POSITION,\r\n    SET_SCROLL_POSITION_BY_ID\r\n} from './actionTypes';\r\n\r\nconst initialState = {\r\n    accessToken: undefined,\r\n    colorScheme: 'client_light',\r\n\r\n    activeTab: [],\r\n    componentScroll: []\r\n};\r\n\r\nexport const vkuiReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_COLOR_SCHEME: {\r\n            return {\r\n                ...state,\r\n                colorScheme: action.payload,\r\n            };\r\n        }\r\n\r\n        case SET_ACCESS_TOKEN: {\r\n            return {\r\n                ...state,\r\n                accessToken: action.payload,\r\n            };\r\n        }\r\n\r\n        case SET_ACTIVE_TAB: {\r\n            return {\r\n                ...state,\r\n                activeTab: {\r\n                    ...state.activeTab,\r\n                    [action.payload.component]: action.payload.tab\r\n                },\r\n            };\r\n        }\r\n\r\n        case SET_SCROLL_POSITION: {\r\n            return {\r\n                ...state,\r\n                componentScroll: {\r\n                    ...state.componentScroll,\r\n                    [action.payload.component]: {\r\n                        x: action.payload.x,\r\n                        y: action.payload.y\r\n                    }\r\n                },\r\n            };\r\n        }\r\n\r\n        case SET_SCROLL_POSITION_BY_ID: {\r\n            let element = document.getElementById(action.payload.component).getElementsByClassName(\"HorizontalScroll__in\")[0];\r\n\r\n            let x = element.scrollLeft;\r\n            let y = element.scrollTop;\r\n\r\n            return {\r\n                ...state,\r\n                componentScroll: {\r\n                    ...state.componentScroll,\r\n                    [action.payload.component]: {\r\n                        x: x,\r\n                        y: y\r\n                    }\r\n                },\r\n            };\r\n        }\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};","import {SET_FORM_DATA} from './actionTypes';\r\n\r\nconst initialState = {\r\n    forms: []\r\n};\r\n\r\nexport const formDataReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_FORM_DATA: {\r\n            return {\r\n                ...state,\r\n                forms: {\r\n                    ...state.forms,\r\n                    [action.payload.form]: action.payload.data\r\n                }\r\n            };\r\n        }\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n\r\n    }\r\n\r\n};","import {combineReducers} from \"redux\";\r\nimport {routerReducer} from './router/reducers';\r\nimport {vkuiReducer} from './vk/reducers';\r\nimport {formDataReducer} from \"./formData/reducers\";\r\n\r\nexport default combineReducers({\r\n    vkui: vkuiReducer,\r\n    router: routerReducer,\r\n    formData: formDataReducer\r\n});","export const SET_COLOR_SCHEME = 'SET_COLOR_SCHEME';\r\nexport const SET_ACCESS_TOKEN = 'SET_ACCESS_TOKEN';\r\nexport const SET_ACTIVE_TAB = 'SET_ACTIVE_TAB';\r\nexport const SET_SCROLL_POSITION = 'SET_SCROLL_POSITION';\r\nexport const SET_SCROLL_POSITION_BY_ID = 'SET_SCROLL_POSITION_BY_ID';","export const SET_PAGE = 'SET_PAGE';\r\nexport const SET_STORY = 'SET_STORY';\r\nexport const GO_BACK = 'GO_BACK';\r\nexport const OPEN_POPOUT = 'OPEN_POPOUT';\r\nexport const CLOSE_POPOUT = 'CLOSE_POPOUT';\r\nexport const OPEN_MODAL = 'OPEN_MODAL';\r\nexport const CLOSE_MODAL = 'CLOSE_MODAL';","export const SET_FORM_DATA = 'SAVE_FORM_DATA';","import {SET_PAGE, SET_STORY, GO_BACK, OPEN_POPOUT, CLOSE_POPOUT, OPEN_MODAL, CLOSE_MODAL} from './actionTypes';\r\n\r\nexport const setStory = (story, initial_panel) => (\r\n    {\r\n        type: SET_STORY,\r\n        payload: {\r\n            story: story,\r\n            initial_panel: initial_panel,\r\n        }\r\n    }\r\n);\r\n\r\nexport const setPage = (view, panel) => (\r\n    {\r\n        type: SET_PAGE,\r\n        payload: {\r\n            view: view,\r\n            panel: panel\r\n        }\r\n    }\r\n);\r\n\r\nexport const goBack = () => (\r\n    {\r\n        type: GO_BACK\r\n    }\r\n);\r\n\r\nexport const openPopout = (popout) => (\r\n    {\r\n        type: OPEN_POPOUT,\r\n        payload: {\r\n            popout: popout\r\n        }\r\n    }\r\n);\r\n\r\nexport const closePopout = () => (\r\n    {\r\n        type: CLOSE_POPOUT\r\n    }\r\n);\r\n\r\nexport const openModal = (id) => (\r\n    {\r\n        type: OPEN_MODAL,\r\n        payload: {\r\n            id\r\n        }\r\n    }\r\n);\r\n\r\nexport const closeModal = () => (\r\n    {\r\n        type: CLOSE_MODAL\r\n    }\r\n);\r\n","import React from \"react\";\r\n\r\nimport {\r\n  Search,\r\n} from \"@vkontakte/vkui\";\r\n\r\nclass SearchStudents extends React.Component {\r\n\r\n    constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      search: null,\r\n    };\r\n    //\r\n    this.onChangeSearch = this.onChangeSearch.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Изменение поиска\r\n   */\r\n  onChangeSearch(e) {\r\n    if (e.target.value && e.target.value.length > null) {\r\n      //   this.state.search = e.target.value;\r\n      this.setState({\r\n        search: e.target.value,\r\n      });\r\n\r\n      this.setState({\r\n        activeTab: \"search\",\r\n      });\r\n\r\n      console.log(e.target.value);\r\n    } else {\r\n      this.setState({\r\n        activeTab: \"home\",\r\n      });\r\n      //\r\n      this.setState({\r\n        search: \"\",\r\n      });\r\n      console.debug(\"[Search] empty value\");\r\n    }\r\n    //this.setState({ search: e.target.value });\r\n  }\r\n\r\n  /**\r\n   * Вне поиска\r\n   * @param {*} e\r\n   */\r\n  onBlurSearch(e) {\r\n    console.log(e);\r\n    console.log(\"Вы вышли за поле зрения поиска!\");\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Search\r\n            value={this.state.search}\r\n            onChange={this.onChangeSearch}\r\n            onBlur={this.onBlurSearch}\r\n            // value={this.state.search}\r\n          />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\n\r\nimport { List, Button, Div } from \"@vkontakte/vkui\";\r\n\r\nclass ListStudents extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isLoaded: false,\r\n      students: null,\r\n      students_selected: null,\r\n    };\r\n    //\r\n  }\r\n\r\n  componentDidMount() {\r\n    //Получение студетов\r\n    this.getAllStudents();\r\n  }\r\n\r\n  // componentWillReceiveProps: function(selected) {\r\n  //   this.setState({\r\n  //     selected: selected \r\n  //   });\r\n  // }\r\n\r\n  componentWillReceiveProps(selected)\r\n  {\r\n    window.selected = selected;\r\n    // alert(selected);\r\n    //this.getStudentsGroup(selected);\r\n    // alert(selected.selected);\r\n    if(selected.selected && selected.selected.length > null){\r\n      this.getStudentsGroup(selected.selected);\r\n      console.debug(selected.selected);\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * Получение студентов\r\n   */\r\n  getAllStudents() {\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      mode: 'cors', // no-cors, *cors, same-origin\r\n      cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n      credentials: 'same-origin', // include, *same-origin, omit\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n    };\r\n\r\n    fetch(\"https://incoming-students.herokuapp.com/api/students\", requestOptions)\r\n      .then((res) => res.json())\r\n      .then(\r\n        (result) => {\r\n          this.setState({\r\n            isLoaded: true,\r\n            students: result.data,\r\n          });\r\n          console.log(result.data);\r\n        },\r\n        // Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\r\n        // чтобы не перехватывать исключения из ошибок в самих компонентах.\r\n        (error) => {\r\n          this.setState({\r\n            isLoaded: true,\r\n            error,\r\n          });\r\n        }\r\n      );\r\n  }\r\n\r\n  getStudentsGroup(_selected) {\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      mode: 'cors', // no-cors, *cors, same-origin\r\n      cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n      credentials: 'same-origin', // include, *same-origin, omit\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n    };\r\n\r\n    console.log(requestOptions, _selected);\r\n\r\n    //\r\n    fetch(`https://incoming-students.herokuapp.com/api/students/show?group&group_uuid=${_selected}`, requestOptions)\r\n      .then((response) => response.json())\r\n      .then((result) => {\r\n          this.setState({\r\n              isLoaded: true,\r\n              students_selected: result.data,\r\n          });\r\n          console.debug('Selected',result);\r\n          //\r\n        },\r\n        (error) => {\r\n          this.setState({\r\n            isLoaded: true,\r\n            error,\r\n          });\r\n        }\r\n      );\r\n  }\r\n\r\n  render() {\r\n    const { selected } = this.props;\r\n    //l\r\n    return (\r\n      <div  className=\"list\">\r\n        {this.state.students !== null && selected == null && (\r\n          <List>\r\n            {this.state.students.map((item, index) => (\r\n              <div\r\n                key={item}\r\n                className=\"student-item\"\r\n                style={styles.student_item}\r\n              >\r\n                <div className=\"student-item_info\" style={{ display: \"flex\" }}>\r\n                  <div\r\n                    className=\"student-item_info-fullname\"\r\n                    style={{ flex: \"auto\", paddingRight: \"25px\" }}\r\n                  >\r\n                    {item.fullname}\r\n                  </div>\r\n                  <div className=\"student-item_info-group\" style={{ flex: 0 }}>\r\n                    {item.group_id}\r\n                  </div>\r\n                </div>\r\n\r\n                <Button> Отметиться </Button>\r\n              </div>\r\n            ))}\r\n          </List>\r\n        )}\r\n        {/*  */}\r\n        {selected !== null && this.state.students_selected !== null  && (\r\n          <List>\r\n            { this.state.students_selected.map((item, index) => (\r\n              <div\r\n                key={item}\r\n                className=\"student-item\"\r\n                style={styles.student_item}\r\n              >\r\n                <div className=\"student-item_info\" style={{ display: \"flex\" }}>\r\n                  <div\r\n                    className=\"student-item_info-fullname\"\r\n                    style={{ flex: \"auto\", paddingRight: \"25px\" }}\r\n                  >\r\n                    {item.fullname}\r\n                  </div>\r\n                  <div className=\"student-item_info-group\" style={{ flex: 0 }}>\r\n                     {/*  */}\r\n                  </div>\r\n                </div>\r\n\r\n                <Button> Отметиться </Button>\r\n              </div>\r\n            ))}\r\n          </List>\r\n          )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = {\r\n  student_item: {\r\n    display: \"flex\",\r\n    flexFlow: \"row wrap\",\r\n    justifyContent: \"space-between\",\r\n    padding: \"16px 12px\",\r\n  },\r\n};\r\n\r\nexport default ListStudents;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { setPage } from \"../../store/router/actions\";\r\nimport { setActiveTab, setScrollPositionByID } from \"../../store/vk/actions\";\r\nimport { restoreScrollPosition } from \"../../services/_functions\";\r\n\r\nimport {\r\n  Div,\r\n  Panel,\r\n  Group,\r\n  Header,\r\n  CellButton,\r\n  PanelHeader,\r\n  FixedLayout,\r\n  HorizontalScroll,\r\n  TabsItem,\r\n  Tabs,\r\n  Search,\r\n  List,\r\n  Cell,\r\n  Button,\r\n} from \"@vkontakte/vkui\";\r\n\r\nimport SearchStudents from \"../../components/SearchStudents\";\r\nimport ListStudents from \"../../components/ListStudents\";\r\n\r\nclass HomePanelProfile extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      activeTab: props.activeTab[\"EXAMPLE\"] || \"modal\",\r\n      student_groups: null,\r\n    };\r\n  }\r\n\r\n  setTab(tab) {\r\n    this.setState({\r\n      activeTab: tab,\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { setScrollPositionByID, setActiveTab } = this.props;\r\n\r\n    setActiveTab(\"EXAMPLE\", this.state.activeTab);\r\n    setScrollPositionByID(\"EXAMPLE_TABS_LIST\");\r\n  }\r\n\r\n  componentDidMount() {\r\n    restoreScrollPosition();\r\n    // //Получение групп\r\n    this.getStundentsGroup();\r\n  }\r\n\r\n  /**\r\n   * Получение групп\r\n   */\r\n  getStundentsGroup() {\r\n    //http://incstudents/api/students_group\r\n\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      headers: {\r\n        //'Access-Control-Allow-Origin':'*',\r\n        // 'Content-Type': 'application/json',\r\n        Accept: \"*/*\",\r\n        Connection: \"keep-alive\",\r\n      },\r\n    };\r\n\r\n    fetch(\"https://incoming-students.herokuapp.com/api/student_groups\", requestOptions)\r\n      .then((res) => res.json())\r\n      .then(\r\n        (result) => {\r\n          this.setState({\r\n            isLoaded: true,\r\n            student_groups: result.data,\r\n          });\r\n          console.log(result.data);\r\n        },\r\n\r\n        // Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\r\n        // чтобы не перехватывать исключения из ошибок в самих компонентах.\r\n        (error) => {\r\n          this.setState({\r\n            isLoaded: true,\r\n            error,\r\n          });\r\n        }\r\n      );\r\n  }\r\n\r\n  // Рендеринг\r\n\r\n  render() {\r\n    //\r\n    const { id, setPage } = this.props;\r\n\r\n    //\r\n    const boxStyle = {\r\n      marginTop: 150,\r\n    };\r\n\r\n    return (\r\n      <Panel id={id}>\r\n        <FixedLayout vertical=\"top\">\r\n          {/* Табы */}\r\n          {this.state.student_groups !== null && (\r\n            <Tabs style={{ marginTop: \"35px\" }}>\r\n              <HorizontalScroll>\r\n                {this.state.student_groups.map((item, index) => (\r\n                  <TabsItem\r\n                    selected={this.state.activeTab1 === item.uuid}\r\n                    onClick={() => {\r\n                      this.setState({ activeTab1: item.uuid });\r\n                    }}\r\n                  >\r\n                    {item.name}\r\n                  </TabsItem>\r\n                ))}\r\n              </HorizontalScroll>\r\n            </Tabs>\r\n          )}\r\n\r\n          {/* Поиск */}\r\n\r\n          <SearchStudents></SearchStudents>\r\n        </FixedLayout>\r\n\r\n        {/* ROW === Group */}\r\n\r\n        <Group style={boxStyle}>\r\n          {/* View - Список студентов */}\r\n          {this.state.activeTab !== \"search\" && (\r\n              <Group\r\n                header={\r\n                  <Header mode=\"secondary\">\r\n                    Список поступивших\r\n                  </Header>\r\n                }\r\n              >\r\n                {/* */}\r\n                <ListStudents selected={this.state.activeTab1} />\r\n              </Group>\r\n          )}\r\n\r\n          {/* View - Поиск  */}\r\n          {this.state.activeTab == \"search\" && (\r\n            <Div>\r\n              <h1> Типо вьюха </h1>\r\n              {/* Текущие состояние активного таба */} {this.state.activeTab}\r\n              {`\\n`} {`\\n`}\r\n              Поиск данных\r\n            </Div>\r\n          )}\r\n\r\n          {/* Отладка состояния */}\r\n          {/* {JSON.stringify(this.state)} */}\r\n        </Group>\r\n      </Panel>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = {\r\n  student_item: {\r\n    display: \"flex\",\r\n    flexFlow: \"row wrap\",\r\n    justifyContent: \"space-between\",\r\n    padding: \"16px 12px\",\r\n  },\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    activeTab: state.vkui.activeTab,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  setPage,\r\n  setActiveTab,\r\n  setScrollPositionByID,\r\n};\r\n\r\nlet test = [\r\n  {\r\n    id: 0,\r\n    title: \"ССА\",\r\n    slug: \"ssa\",\r\n  },\r\n  {\r\n    id: 1,\r\n    title: \"ПКС\",\r\n    slug: \"pks\",\r\n  },\r\n  {\r\n    id: 2,\r\n    title: \"ИКС\",\r\n    slug: \"iks\",\r\n  },\r\n  {\r\n    id: 3,\r\n    title: \"ПС\",\r\n    slug: \"ps\",\r\n  },\r\n  {\r\n    id: 4,\r\n    title: \"Р1\",\r\n    slug: \"r1\",\r\n  },\r\n  {\r\n    id: 5,\r\n    title: \"Р1К\",\r\n    slug: \"r1k\",\r\n  },\r\n  {\r\n    id: 6,\r\n    title: \"12\",\r\n    slug: \"gr12\",\r\n  },\r\n  {\r\n    id: 7,\r\n    title: \"13\",\r\n    slug: \"gr13\",\r\n  },\r\n];\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePanelProfile);\r\n","import {\r\n    SET_COLOR_SCHEME,\r\n    SET_ACCESS_TOKEN,\r\n    SET_ACTIVE_TAB,\r\n    SET_SCROLL_POSITION,\r\n    SET_SCROLL_POSITION_BY_ID\r\n} from './actionTypes';\r\n\r\nexport const setColorScheme = (scheme) => (\r\n    {\r\n        type: SET_COLOR_SCHEME,\r\n        payload: scheme\r\n    }\r\n);\r\n\r\nexport const setAccessToken = (accessToken) => (\r\n    {\r\n        type: SET_ACCESS_TOKEN,\r\n        payload: accessToken\r\n    }\r\n);\r\n\r\nexport const setActiveTab = (component, tab) => (\r\n    {\r\n        type: SET_ACTIVE_TAB,\r\n        payload: {\r\n            component,\r\n            tab\r\n        }\r\n    }\r\n);\r\n\r\nexport const setScrollPosition = (component, x = 0, y = 0) => (\r\n    {\r\n        type: SET_SCROLL_POSITION,\r\n        payload: {\r\n            component,\r\n            x,\r\n            y\r\n        }\r\n    }\r\n);\r\n\r\nexport const setScrollPositionByID = (component) => (\r\n    {\r\n        type: SET_SCROLL_POSITION_BY_ID,\r\n        payload: {\r\n            component\r\n        }\r\n    }\r\n);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {goBack} from '../../store/router/actions';\r\nimport {setFormData} from \"../../store/formData/actions\";\r\n\r\nimport {\r\n    Div,\r\n    Button,\r\n    Checkbox,\r\n    Input,\r\n    FormLayout,\r\n    FormLayoutGroup,\r\n    Panel,\r\n    Group,\r\n    PanelHeader,\r\n    PanelHeaderBack\r\n} from \"@vkontakte/vkui\";\r\n\r\nclass HomePanelProfile extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let defaultInputData = {\r\n            workplace: '',\r\n            workposition: '',\r\n\r\n            checkboxPhoto: 0,\r\n            checkboxOnline: 0\r\n        };\r\n\r\n        this.state = {\r\n            inputData: props.inputData['example_form'] || defaultInputData\r\n        };\r\n\r\n        this.handleInput = (e) => {\r\n            let value = e.currentTarget.value;\r\n\r\n            if (e.currentTarget.type === 'checkbox') {\r\n                value = e.currentTarget.checked;\r\n            }\r\n\r\n            this.setState({\r\n                inputData: {\r\n                    ...this.state.inputData,\r\n                    [e.currentTarget.name]: value\r\n                }\r\n            })\r\n        };\r\n\r\n        this.clearForm = () => {\r\n            this.setState({\r\n                inputData: defaultInputData\r\n            });\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setFormData('example_form', this.state.inputData);\r\n    }\r\n\r\n    render() {\r\n        const {id, goBack} = this.props;\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={() => goBack()}/>}\r\n                >\r\n                    Модальное окно\r\n                </PanelHeader>\r\n                <Group>\r\n                    <FormLayout>\r\n                        <FormLayoutGroup top=\"Работа\">\r\n                            <Input value={this.state.inputData.workplace}\r\n                                   onChange={this.handleInput}\r\n                                   name=\"workplace\"\r\n                                   placeholder=\"Место работы\"\r\n                                   autoComplete=\"off\"/>\r\n                            <Input value={this.state.inputData.workposition}\r\n                                   onChange={this.handleInput}\r\n                                   name=\"workposition\"\r\n                                   placeholder=\"Должность\"\r\n                                   autoComplete=\"off\"/>\r\n                        </FormLayoutGroup>\r\n                        <FormLayoutGroup top=\"Дополнительно\">\r\n                            <Checkbox checked={this.state.inputData.checkboxPhoto}\r\n                                      onChange={this.handleInput}\r\n                                      name=\"checkboxPhoto\"\r\n                            >С фотографией</Checkbox>\r\n                            <Checkbox checked={this.state.inputData.checkboxOnline}\r\n                                      onChange={this.handleInput}\r\n                                      name=\"checkboxOnline\"\r\n                            >Сейчас на сайте</Checkbox>\r\n                        </FormLayoutGroup>\r\n                    </FormLayout>\r\n                    <Div className=\"buttons-group\">\r\n                        <Button size=\"l\" stretched={true} onClick={() => goBack()}>Сохранить</Button>\r\n                        <Button size=\"l\" stretched={true} onClick={this.clearForm}>Очистить</Button>\r\n                    </Div>\r\n                </Group>\r\n            </Panel>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        inputData: state.formData.forms,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    setFormData,\r\n    goBack\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePanelProfile);","import {SET_FORM_DATA} from './actionTypes';\r\n\r\nexport const setFormData = (formName, inputData) => (\r\n    {\r\n        type: SET_FORM_DATA,\r\n        payload: {\r\n            form: formName,\r\n            data: inputData,\r\n        }\r\n    }\r\n);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {openModal} from \"../../store/router/actions\";\r\n\r\nimport {List, Cell, Avatar, ModalPage, ModalPageHeader, PanelHeaderButton, withPlatform, IOS} from \"@vkontakte/vkui\";\r\n\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\nimport Icon24Chevron from '@vkontakte/icons/dist/24/chevron';\r\n\r\nconst bots = [\r\n    {\r\n        name: 'VKS',\r\n        avatar: 'https://pp.userapi.com/c851520/v851520442/48ce/Sik7V4c58qw.jpg',\r\n        desc: 'Нет, меня не роняли в детстве'\r\n    },\r\n    {\r\n        name: 'Недобот',\r\n        avatar: 'https://pp.userapi.com/c854420/v854420431/da51/X8ohw4-4Fk4.jpg',\r\n        desc: 'Я ни разу не пил кокосовое молоко'\r\n    },\r\n    {\r\n        name: 'Realm of War',\r\n        avatar: 'https://sun9-72.userapi.com/c853520/v853520591/1f167d/avj_z9yFtQA.jpg?ava=1',\r\n        desc: 'Ненавижу спойлеры.'\r\n    },\r\n];\r\n\r\nclass HomeBotsListModal extends React.Component {\r\n\r\n    render() {\r\n        const {id, onClose, openModal, platform} = this.props;\r\n\r\n        return (\r\n            <ModalPage\r\n                id={id}\r\n                header={\r\n                    <ModalPageHeader\r\n                        left={platform !== IOS &&\r\n                        <PanelHeaderButton onClick={onClose}><Icon24Cancel/></PanelHeaderButton>}\r\n                        right={platform === IOS &&\r\n                        <PanelHeaderButton onClick={onClose}><Icon24Dismiss/></PanelHeaderButton>}\r\n                    >\r\n                        /appbots на минималках\r\n                    </ModalPageHeader>\r\n                }\r\n                onClose={onClose}\r\n                settlingHeight={80}\r\n            >\r\n                <List>\r\n                    {bots.map((bot, index) => (\r\n                        <Cell\r\n                            key={index}\r\n                            description={bot.desc}\r\n                            before={<Avatar size={40} src={bot.avatar}/>}\r\n                            onClick={() => openModal('MODAL_PAGE_BOT_INFO')}\r\n                            asideContent={<Icon24Chevron fill=\"#528bcc\"/>}\r\n                        >\r\n                            {bot.name}\r\n                        </Cell>\r\n                    ))}\r\n                </List>\r\n            </ModalPage>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    openModal\r\n};\r\n\r\nexport default withPlatform(connect(null, mapDispatchToProps)(HomeBotsListModal));\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {Cell, List, Avatar, InfoRow, ModalPage, ModalPageHeader, PanelHeaderButton, withPlatform, IOS} from \"@vkontakte/vkui\";\r\n\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\n\r\nclass HomeBotsListModal extends React.Component {\r\n\r\n    render() {\r\n        const {id, onClose, platform} = this.props;\r\n\r\n        return (\r\n            <ModalPage\r\n                id={id}\r\n                header={\r\n                    <ModalPageHeader\r\n                        left={platform !== IOS &&\r\n                        <PanelHeaderButton onClick={onClose}><Icon24Cancel/></PanelHeaderButton>}\r\n                        right={platform === IOS &&\r\n                        <PanelHeaderButton onClick={onClose}><Icon24Dismiss/></PanelHeaderButton>}\r\n                    >\r\n                        Информация о боте\r\n                    </ModalPageHeader>\r\n                }\r\n                onClose={onClose}\r\n                settlingHeight={80}\r\n            >\r\n                <Cell\r\n                    description=\"Описание\"\r\n                    before={<Avatar size={40} src=\"https://vk.com/images/community_100.png?ava=1\"/>}\r\n                >\r\n                    Название\r\n                </Cell>\r\n                <List>\r\n                    <Cell>\r\n                        <InfoRow header=\"Подписчиков\">\r\n                            8800\r\n                        </InfoRow>\r\n                    </Cell>\r\n                    <Cell>\r\n                        <InfoRow header=\"Записей\">\r\n                            555\r\n                        </InfoRow>\r\n                    </Cell>\r\n                    <Cell>\r\n                        <InfoRow header=\"Рейтинг\">\r\n                            3535\r\n                        </InfoRow>\r\n                    </Cell>\r\n                </List>\r\n            </ModalPage>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default withPlatform(connect()(HomeBotsListModal));\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { goBack, closeModal, setStory } from \"./js/store/router/actions\";\r\nimport { getActivePanel } from \"./js/services/_functions\";\r\nimport * as VK from \"./js/services/VK\";\r\n\r\nimport {\r\n  Search,\r\n  Epic,\r\n  View,\r\n  Root,\r\n  Tabbar,\r\n  ModalRoot,\r\n  TabbarItem,\r\n  ConfigProvider,\r\n} from \"@vkontakte/vkui\";\r\n\r\n//import Icon28Newsfeed from '@vkontakte/icons/dist/28/newsfeed';\r\n\r\n//all icon\r\n// import '@vkontakte/icons/dist/SvgIcon';\r\n\r\n//import Icon28More from '@vkontakte/icons/dist/28/more';\r\n\r\nimport MorePanelBase from \"./js/panels/more/base\";\r\nimport MorePanelExample from \"./js/panels/more/example\";\r\n\r\nimport HomeBotsListModal from \"./js/components/modals/HomeBotsListModal\";\r\nimport HomeBotInfoModal from \"./js/components/modals/HomeBotInfoModal\";\r\nimport Icon from \"@vkontakte/icons/dist/24/dismiss\";\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //\r\n    this.lastAndroidBackAction = 0;\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { goBack, dispatch } = this.props;\r\n\r\n    dispatch(VK.initApp());\r\n\r\n    window.onpopstate = () => {\r\n      let timeNow = +new Date();\r\n\r\n      if (timeNow - this.lastAndroidBackAction > 500) {\r\n        this.lastAndroidBackAction = timeNow;\r\n\r\n        goBack();\r\n      } else {\r\n        window.history.pushState(null, null);\r\n      }\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    const { activeView, activeStory, activePanel, scrollPosition } = this.props;\r\n\r\n    if (\r\n      prevProps.activeView !== activeView ||\r\n      prevProps.activePanel !== activePanel ||\r\n      prevProps.activeStory !== activeStory\r\n    ) {\r\n      let pageScrollPosition =\r\n        scrollPosition[activeStory + \"_\" + activeView + \"_\" + activePanel] || 0;\r\n\r\n      window.scroll(0, pageScrollPosition);\r\n    }\r\n  }\r\n\r\n  //Render View\r\n  render() {\r\n    const {\r\n      goBack,\r\n      setStory,\r\n      closeModal,\r\n      popouts,\r\n      activeView,\r\n      activeStory,\r\n      activeModals,\r\n      panelsHistory,\r\n      colorScheme,\r\n    } = this.props;\r\n\r\n    let history =\r\n      panelsHistory[activeView] === undefined\r\n        ? [activeView]\r\n        : panelsHistory[activeView];\r\n\r\n    let popout = popouts[activeView] === undefined ? null : popouts[activeView];\r\n\r\n    let activeModal =\r\n      activeModals[activeView] === undefined ? null : activeModals[activeView];\r\n\r\n    return (\r\n      <ConfigProvider isWebView={true} scheme={colorScheme}>\r\n        <Epic activeStory={activeStory}>\r\n\r\n          {/*  */}\r\n          <View\r\n            id=\"more\"\r\n            activePanel={getActivePanel(\"more\")}\r\n            history={history}\r\n            onSwipeBack={() => goBack()}\r\n          >\r\n            <MorePanelBase id=\"callmodal\" />\r\n          </View>\r\n        </Epic>\r\n      </ConfigProvider>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    activeView: state.router.activeView,\r\n    activeStory: state.router.activeStory,\r\n    panelsHistory: state.router.panelsHistory,\r\n    activeModals: state.router.activeModals,\r\n    popouts: state.router.popouts,\r\n    scrollPosition: state.router.scrollPosition,\r\n    //\r\n    search: null,\r\n\r\n    colorScheme: state.vkui.colorScheme,\r\n  };\r\n};\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    dispatch,\r\n    ...bindActionCreators({ setStory, goBack, closeModal }, dispatch),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import 'core-js/es6/map';\r\nimport 'core-js/es6/set';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport {applyMiddleware, createStore} from \"redux\";\r\nimport thunk from 'redux-thunk';\r\nimport {Provider} from 'react-redux';\r\nimport rootReducer from './js/store/reducers';\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\n\r\nimport {setStory} from \"./js/store/router/actions\";\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './css/main.css';\r\n\r\nimport App from './App';\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools(\r\n    applyMiddleware(thunk),\r\n));\r\n\r\n\r\n\r\n//Default Story\r\nstore.dispatch(\r\n    //setStory('more', 'base')\r\n    setStory('more', 'callmodal')\r\n    );\r\n\r\n\r\n\r\n//Render\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App/>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}