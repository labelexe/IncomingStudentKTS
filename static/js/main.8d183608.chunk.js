(this.webpackJsonpvkminiappboilerplate=this.webpackJsonpvkminiappboilerplate||[]).push([[0],{142:function(e,t,a){e.exports=a(188)},179:function(e,t,a){},188:function(e,t,a){"use strict";a.r(t),a.d(t,"store",(function(){return Q}));a(143),a(168);var n=a(0),o=a.n(n),c=a(44),i=a.n(c),r=a(19),l=a(82),s=a(13),u=a(2),p=a(36),d=a(25),v=a.n(d),h=function(){return v.a.send("VKWebAppClose",{status:"success"}).then((function(e){return e})).catch((function(e){return e}))},b=function(){return v.a.send("VKWebAppEnableSwipeBack",{}).then((function(e){return e})).catch((function(e){return e}))},m=function(){return v.a.send("VKWebAppDisableSwipeBack",{}).then((function(e){return e})).catch((function(e){return e}))},y=function e(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>30||t>0&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/8))},O=function(e){var t=Q.getState().router.activePanel,a=Q.getState().router.panelsHistory;return"undefined"!==typeof a[e]&&(t=a[e][a[e].length-1]),t},f={activeStory:null,activeView:null,activePanel:null,storiesHistory:[],viewsHistory:[],panelsHistory:[],activeModals:[],modalHistory:[],popouts:[],scrollPosition:[]},j={accessToken:void 0,colorScheme:"client_light",activeTab:[],componentScroll:[]},E={forms:[]},g=Object(r.combineReducers)({vkui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COLOR_SCHEME":return Object(u.a)(Object(u.a)({},e),{},{colorScheme:t.payload});case"SET_ACCESS_TOKEN":return Object(u.a)(Object(u.a)({},e),{},{accessToken:t.payload});case"SET_ACTIVE_TAB":return Object(u.a)(Object(u.a)({},e),{},{activeTab:Object(u.a)(Object(u.a)({},e.activeTab),{},{[t.payload.component]:t.payload.tab})});case"SET_SCROLL_POSITION":return Object(u.a)(Object(u.a)({},e),{},{componentScroll:Object(u.a)(Object(u.a)({},e.componentScroll),{},{[t.payload.component]:{x:t.payload.x,y:t.payload.y}})});case"SET_SCROLL_POSITION_BY_ID":var a=document.getElementById(t.payload.component).getElementsByClassName("HorizontalScroll__in")[0],n=a.scrollLeft,o=a.scrollTop;return Object(u.a)(Object(u.a)({},e),{},{componentScroll:Object(u.a)(Object(u.a)({},e.componentScroll),{},{[t.payload.component]:{x:n,y:o}})});default:return e}},router:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAGE":var a=t.payload.view,n=t.payload.panel;window.history.pushState(null,null);var o=e.panelsHistory[a]||[],c=e.viewsHistory[e.activeStory]||[],i=c.indexOf(a);return-1!==i&&c.splice(i,1),-1===o.indexOf(n)&&(o=[].concat(Object(p.a)(o),[n])),o.length>1&&b(),Object(u.a)(Object(u.a)({},e),{},{activeView:a,activePanel:n,panelsHistory:Object(u.a)(Object(u.a)({},e.panelsHistory),{},{[a]:o}),viewsHistory:Object(u.a)(Object(u.a)({},e.viewsHistory),{},{[e.activeStory]:[].concat(Object(p.a)(c),[a])}),scrollPosition:Object(u.a)(Object(u.a)({},e.scrollPosition),{},{[e.activeStory+"_"+e.activeView+"_"+e.activePanel]:window.pageYOffset})});case"SET_STORY":window.history.pushState(null,null);var r=e.viewsHistory[t.payload.story]||[t.payload.story],l=e.storiesHistory,s=r[r.length-1],d=e.panelsHistory[s]||[t.payload.initial_panel],v=d[d.length-1];if(t.payload.story===e.activeStory)if(d.length>1){var O=d.shift();v=(d=[O])[d.length-1]}else if(r.length>1){var j=r.shift();s=(r=[j])[r.length-1],v=(d=e.panelsHistory[s])[d.length-1]}t.payload.story===e.activeStory&&1===d.length&&window.pageYOffset>0&&(window.scrollTo(0,30),y());var E=l.indexOf(t.payload.story);return(-1===E||l[0]===t.payload.story&&l[l.length-1]!==t.payload.story)&&(l=[].concat(Object(p.a)(l),[t.payload.story])),Object(u.a)(Object(u.a)({},e),{},{activeStory:t.payload.story,activeView:s,activePanel:v,storiesHistory:l,viewsHistory:Object(u.a)(Object(u.a)({},e.viewsHistory),{},{[s]:r}),panelsHistory:Object(u.a)(Object(u.a)({},e.panelsHistory),{},{[s]:d}),scrollPosition:Object(u.a)(Object(u.a)({},e.scrollPosition),{},{[e.activeStory+"_"+e.activeView+"_"+e.activePanel]:window.pageYOffset})});case"GO_BACK":var g=e.activeView,S=e.activePanel,w=e.activeStory,k=e.popouts;if(k[g])return k[g]=null,Object(u.a)(Object(u.a)({},e),{},{popouts:Object(u.a)(Object(u.a)({},e.popouts),{},{popoutsData:k})});var T=e.modalHistory[g];if(void 0!==T&&0!==T.length){var _=T[T.length-2]||null;return null===_?T=[]:-1!==T.indexOf(_)?T=T.splice(0,T.indexOf(_)+1):T.push(_),Object(u.a)(Object(u.a)({},e),{},{activeModals:Object(u.a)(Object(u.a)({},e.activeModals),{},{[g]:_}),modalHistory:Object(u.a)(Object(u.a)({},e.modalHistory),{},{[g]:T})})}var H=e.panelsHistory[g]||[],C=e.viewsHistory[e.activeStory]||[],A=e.storiesHistory;if(H.length>1)H.pop(),S=H[H.length-1];else if(C.length>1){C.pop(),g=C[C.length-1];var P=e.panelsHistory[g];S=P[P.length-1]}else if(A.length>1){A.pop(),w=A[A.length-1],g=e.viewsHistory[w][e.viewsHistory[w].length-1];var V=e.panelsHistory[g];S=V.length>1?V[V.length-1]:V[0]}else h();return 1===H.length&&m(),Object(u.a)(Object(u.a)({},e),{},{activeView:g,activePanel:S,activeStory:w,viewsHistory:Object(u.a)(Object(u.a)({},e.viewsHistory),{},{[e.activeView]:C}),panelsHistory:Object(u.a)(Object(u.a)({},e.panelsHistory),{},{[e.activeView]:H})});case"OPEN_POPOUT":return window.history.pushState(null,null),Object(u.a)(Object(u.a)({},e),{},{popouts:Object(u.a)(Object(u.a)({},e.popouts),{},{[e.activeView]:t.payload.popout})});case"CLOSE_POPOUT":return Object(u.a)(Object(u.a)({},e),{},{popouts:Object(u.a)(Object(u.a)({},e.popouts),{},{[e.activeView]:null})});case"OPEN_MODAL":window.history.pushState(null,null);var D=t.payload.id||null,B=e.modalHistory[e.activeView]?Object(p.a)(e.modalHistory[e.activeView]):[];return null===D?B=[]:-1!==B.indexOf(D)?B=B.splice(0,B.indexOf(D)+1):B.push(D),Object(u.a)(Object(u.a)({},e),{},{activeModals:Object(u.a)(Object(u.a)({},e.activeModals),{},{[e.activeView]:D}),modalHistory:Object(u.a)(Object(u.a)({},e.modalHistory),{},{[e.activeView]:B})});case"CLOSE_MODAL":var M=e.modalHistory[e.activeView][e.modalHistory[e.activeView].length-2]||null,x=e.modalHistory[e.activeView]?Object(p.a)(e.modalHistory[e.activeView]):[];return null===M?x=[]:-1!==x.indexOf(M)?x=x.splice(0,x.indexOf(M)+1):x.push(M),Object(u.a)(Object(u.a)({},e),{},{activeModals:Object(u.a)(Object(u.a)({},e.activeModals),{},{[e.activeView]:M}),modalHistory:Object(u.a)(Object(u.a)({},e.modalHistory),{},{[e.activeView]:x})});default:return e}},formData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_FORM_DATA":return Object(u.a)(Object(u.a)({},e),{},{forms:Object(u.a)(Object(u.a)({},e.forms),{},{[t.payload.form]:t.payload.data})});default:return e}}}),S=a(84),w=function(e,t){return{type:"SET_STORY",payload:{story:e,initial_panel:t}}},k=function(){return{type:"GO_BACK"}},T=function(){return{type:"CLOSE_MODAL"}},_=(a(178),a(179),a(20)),H=a(21),C=a(23),A=a(22),P=a(5),V=a(45),D=function(e){Object(C.a)(a,e);var t=Object(A.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).state={activeTab:e.activeTab.EXAMPLE||"modal",search:null,students:null},n.onChangeSearch=n.onChangeSearch.bind(Object(V.a)(n)),n}return Object(H.a)(a,[{key:"setTab",value:function(e){this.setState({activeTab:e})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.setScrollPositionByID;(0,e.setActiveTab)("EXAMPLE",this.state.activeTab),t("EXAMPLE_TABS_LIST")}},{key:"componentDidMount",value:function(){!function(){var e=Q.getState().vkui.componentScroll;Object.keys(e).forEach((function(t){var a=e[t],n=document.getElementById(t);n&&((n=n.getElementsByClassName("HorizontalScroll__in")[0]).scrollLeft=a.x,n.scrollTop=a.y)}))}(),this.getStudents()}},{key:"onChangeSearch",value:function(e){e.target.value&&e.target.value.length>null?(this.setState({search:e.target.value}),this.setState({activeTab:"search"}),console.log(e.target.value)):(this.setState({activeTab:"home"}),this.setState({search:""}),console.debug("[Search] empty value"))}},{key:"onBlurSearch",value:function(e){console.log(e),console.log("\u0412\u044b \u0432\u044b\u0448\u043b\u0438 \u0437\u0430 \u043f\u043e\u043b\u0435 \u0437\u0440\u0435\u043d\u0438\u044f \u043f\u043e\u0438\u0441\u043a\u0430!")}},{key:"getStudents",value:function(){var e=this;fetch("https://gorest.co.in/public-api/users").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,students:t.data})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.id;t.setPage;return o.a.createElement(P.t,{id:a},o.a.createElement(P.h,{vertical:"top"},o.a.createElement(P.y,null,o.a.createElement(P.m,null,M.map((function(t){return o.a.createElement(P.z,{style:{width:100},onClick:function(){e.state.activeTab===t.slug&&e.setState({contextOpened:!e.state.contextOpened}),e.setState({activeTab:t.slug})},selected:e.state.activeTab===t.slug},t.title)})))),o.a.createElement(P.x,{value:this.state.search,onChange:this.onChangeSearch,onBlur:this.onBlurSearch})),o.a.createElement(P.k,{style:{marginTop:100}},"search"!==this.state.activeTab&&o.a.createElement(P.f,null,null!==this.state.students&&o.a.createElement(P.k,{header:o.a.createElement(P.l,{mode:"secondary"},"\u0421\u043f\u0438\u0441\u043e\u043a ",this.state.activeTab)},o.a.createElement(P.q,null,this.state.students.map((function(e,t){return o.a.createElement(P.c,{key:e,size:"l",bottomContent:o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(P.b,null,"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c\u0441\u044f"))},JSON.stringify(e.name))}))))),"search"==this.state.activeTab&&o.a.createElement(P.f,null,o.a.createElement("h1",null,"\u0422\u0438\u043f\u043e \u0432\u044c\u044e\u0445\u0430"),this.state.activeTab,"\n","\n","\u041f\u043e\u0438\u0441\u043a \u0434\u0430\u043d\u043d\u044b\u0445"),JSON.stringify(this.state)))}}]),a}(o.a.Component),B={setPage:function(e,t){return{type:"SET_PAGE",payload:{view:e,panel:t}}},setActiveTab:function(e,t){return{type:"SET_ACTIVE_TAB",payload:{component:e,tab:t}}},setScrollPositionByID:function(e){return{type:"SET_SCROLL_POSITION_BY_ID",payload:{component:e}}}},M=[{id:0,title:"\u0421\u0421\u0410",slug:"ssa"},{id:1,title:"\u041f\u041a\u0421",slug:"pks"},{id:2,title:"\u0418\u041a\u0421",slug:"iks"},{id:3,title:"\u041f\u0421",slug:"ps"},{id:4,title:"\u04201",slug:"r1"},{id:5,title:"\u04201\u041a",slug:"r1k"},{id:6,title:"12",slug:"gr12"},{id:7,title:"13",slug:"gr13"}],x=Object(s.b)((function(e){return{activeTab:e.vkui.activeTab}}),B)(D),L=function(e){Object(C.a)(a,e);var t=Object(A.a)(a);function a(e){var n;Object(_.a)(this,a),n=t.call(this,e);var o={workplace:"",workposition:"",checkboxPhoto:0,checkboxOnline:0};return n.state={inputData:e.inputData.example_form||o},n.handleInput=function(e){var t=e.currentTarget.value;"checkbox"===e.currentTarget.type&&(t=e.currentTarget.checked),n.setState({inputData:Object(u.a)(Object(u.a)({},n.state.inputData),{},{[e.currentTarget.name]:t})})},n.clearForm=function(){n.setState({inputData:o})},n}return Object(H.a)(a,[{key:"componentWillUnmount",value:function(){this.props.setFormData("example_form",this.state.inputData)}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.goBack;return o.a.createElement(P.t,{id:t},o.a.createElement(P.u,{left:o.a.createElement(P.v,{onClick:function(){return a()}})},"\u041c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e"),o.a.createElement(P.k,null,o.a.createElement(P.i,null,o.a.createElement(P.j,{top:"\u0420\u0430\u0431\u043e\u0442\u0430"},o.a.createElement(P.p,{value:this.state.inputData.workplace,onChange:this.handleInput,name:"workplace",placeholder:"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u044b",autoComplete:"off"}),o.a.createElement(P.p,{value:this.state.inputData.workposition,onChange:this.handleInput,name:"workposition",placeholder:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",autoComplete:"off"})),o.a.createElement(P.j,{top:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e"},o.a.createElement(P.d,{checked:this.state.inputData.checkboxPhoto,onChange:this.handleInput,name:"checkboxPhoto"},"\u0421 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0435\u0439"),o.a.createElement(P.d,{checked:this.state.inputData.checkboxOnline,onChange:this.handleInput,name:"checkboxOnline"},"\u0421\u0435\u0439\u0447\u0430\u0441 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435"))),o.a.createElement(P.f,{className:"buttons-group"},o.a.createElement(P.b,{size:"l",stretched:!0,onClick:function(){return a()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),o.a.createElement(P.b,{size:"l",stretched:!0,onClick:this.clearForm},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"))))}}]),a}(o.a.Component),I={setFormData:function(e,t){return{type:"SAVE_FORM_DATA",payload:{form:e,data:t}}},goBack:k},N=(Object(s.b)((function(e){return{inputData:e.formData.forms}}),I)(L),a(38)),R=a.n(N),F=a(34),W=a.n(F),z=a(46),K=a.n(z),Y=[{name:"VKS",avatar:"https://pp.userapi.com/c851520/v851520442/48ce/Sik7V4c58qw.jpg",desc:"\u041d\u0435\u0442, \u043c\u0435\u043d\u044f \u043d\u0435 \u0440\u043e\u043d\u044f\u043b\u0438 \u0432 \u0434\u0435\u0442\u0441\u0442\u0432\u0435"},{name:"\u041d\u0435\u0434\u043e\u0431\u043e\u0442",avatar:"https://pp.userapi.com/c854420/v854420431/da51/X8ohw4-4Fk4.jpg",desc:"\u042f \u043d\u0438 \u0440\u0430\u0437\u0443 \u043d\u0435 \u043f\u0438\u043b \u043a\u043e\u043a\u043e\u0441\u043e\u0432\u043e\u0435 \u043c\u043e\u043b\u043e\u043a\u043e"},{name:"Realm of War",avatar:"https://sun9-72.userapi.com/c853520/v853520591/1f167d/avj_z9yFtQA.jpg?ava=1",desc:"\u041d\u0435\u043d\u0430\u0432\u0438\u0436\u0443 \u0441\u043f\u043e\u0439\u043b\u0435\u0440\u044b."}],U=function(e){Object(C.a)(a,e);var t=Object(A.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(H.a)(a,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.onClose,n=e.openModal,c=e.platform;return o.a.createElement(P.r,{id:t,header:o.a.createElement(P.s,{left:c!==P.n&&o.a.createElement(P.w,{onClick:a},o.a.createElement(W.a,null)),right:c===P.n&&o.a.createElement(P.w,{onClick:a},o.a.createElement(R.a,null))},"/appbots \u043d\u0430 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u043a\u0430\u0445"),onClose:a,settlingHeight:80},o.a.createElement(P.q,null,Y.map((function(e,t){return o.a.createElement(P.c,{key:t,description:e.desc,before:o.a.createElement(P.a,{size:40,src:e.avatar}),onClick:function(){return n("MODAL_PAGE_BOT_INFO")},asideContent:o.a.createElement(K.a,{fill:"#528bcc"})},e.name)}))))}}]),a}(o.a.Component),q={openModal:function(e){return{type:"OPEN_MODAL",payload:{id:e}}}},G=(Object(P.B)(Object(s.b)(null,q)(U)),function(e){Object(C.a)(a,e);var t=Object(A.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(H.a)(a,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.onClose,n=e.platform;return o.a.createElement(P.r,{id:t,header:o.a.createElement(P.s,{left:n!==P.n&&o.a.createElement(P.w,{onClick:a},o.a.createElement(W.a,null)),right:n===P.n&&o.a.createElement(P.w,{onClick:a},o.a.createElement(R.a,null))},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0431\u043e\u0442\u0435"),onClose:a,settlingHeight:80},o.a.createElement(P.c,{description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",before:o.a.createElement(P.a,{size:40,src:"https://vk.com/images/community_100.png?ava=1"})},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),o.a.createElement(P.q,null,o.a.createElement(P.c,null,o.a.createElement(P.o,{header:"\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432"},"8800")),o.a.createElement(P.c,null,o.a.createElement(P.o,{header:"\u0417\u0430\u043f\u0438\u0441\u0435\u0439"},"555")),o.a.createElement(P.c,null,o.a.createElement(P.o,{header:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"},"3535"))))}}]),a}(o.a.Component)),J=(Object(P.B)(Object(s.b)()(G)),function(e){Object(C.a)(a,e);var t=Object(A.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).lastAndroidBackAction=0,n}return Object(H.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.goBack;(0,t.dispatch)((function(e){return v.a.subscribe((function t(a){"VKWebAppUpdateConfig"===a.detail.type&&(v.a.unsubscribe(t),e({type:"SET_COLOR_SCHEME",payload:a.detail.data.scheme}))})),v.a.send("VKWebAppInit",{}).then((function(e){return e})).catch((function(e){return e}))})),window.onpopstate=function(){var t=+new Date;t-e.lastAndroidBackAction>500?(e.lastAndroidBackAction=t,a()):window.history.pushState(null,null)}}},{key:"componentDidUpdate",value:function(e,t,a){var n=this.props,o=n.activeView,c=n.activeStory,i=n.activePanel,r=n.scrollPosition;if(e.activeView!==o||e.activePanel!==i||e.activeStory!==c){var l=r[c+"_"+o+"_"+i]||0;window.scroll(0,l)}}},{key:"render",value:function(){var e=this.props,t=e.goBack,a=(e.setStory,e.closeModal,e.popouts),n=e.activeView,c=e.activeStory,i=e.activeModals,r=e.panelsHistory,l=e.colorScheme,s=void 0===r[n]?[n]:r[n];void 0===a[n]||a[n],void 0===i[n]||i[n];return o.a.createElement(P.e,{isWebView:!0,scheme:l},o.a.createElement(P.g,{activeStory:c},o.a.createElement(P.A,{id:"more",activePanel:O("more"),history:s,onSwipeBack:function(){return t()}},o.a.createElement(x,{id:"callmodal"}))))}}]),a}(o.a.Component));var X=Object(s.b)((function(e){return{activeView:e.router.activeView,activeStory:e.router.activeStory,panelsHistory:e.router.panelsHistory,activeModals:e.router.activeModals,popouts:e.router.popouts,scrollPosition:e.router.scrollPosition,search:null,colorScheme:e.vkui.colorScheme}}),(function(e){return Object(u.a)({dispatch:e},Object(r.bindActionCreators)({setStory:w,goBack:k,closeModal:T},e))}))(J),Q=Object(r.createStore)(g,Object(S.composeWithDevTools)(Object(r.applyMiddleware)(l.a)));Q.dispatch(w("more","callmodal")),i.a.render(o.a.createElement(s.a,{store:Q},o.a.createElement(X,null)),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.8d183608.chunk.js.map